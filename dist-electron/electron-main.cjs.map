{"version":3,"sources":["../electron-main.ts","../src/main/database.ts","../src/main/ipc-handlers.ts","../src/main/ai-service.ts","../src/main/scraper-service.ts","../src/main/features/ghost-job-network.ts","../src/main/features/Hunter-engine.ts","../src/main/features/doc-generator.ts","../src/main/features/scheduler.ts"],"sourcesContent":["import { app, BrowserWindow, Menu, MenuItem } from 'electron';\r\nimport path from 'path';\r\nimport isDev from 'electron-is-dev';\r\nimport { initializeDatabase } from './src/main/database';\r\nimport { setupIpcHandlers } from './src/main/ipc-handlers';\r\n\r\n// FIX: Resolve GPU process crashes on Windows\r\napp.disableHardwareAcceleration();\r\n\r\nlet mainWindow: BrowserWindow | null = null;\r\n\r\nfunction createWindow() {\r\n  mainWindow = new BrowserWindow({\r\n    width: 1400,\r\n    height: 900,\r\n    minWidth: 1000,\r\n    minHeight: 700,\r\n    webPreferences: {\r\n      preload: path.join(__dirname, \"preload.cjs\"),\r\n      contextIsolation: true,\r\n      nodeIntegration: false\r\n    },\r\n  });\r\n\r\n  const startUrl = isDev ? 'http://localhost:5173' : `file://${path.join(__dirname, '../dist/index.html')}`;\r\n  mainWindow.loadURL(startUrl);\r\n\r\n  if (isDev) mainWindow.webContents.openDevTools();\r\n\r\n  mainWindow.webContents.on('context-menu', (event, params) => {\r\n    const menu = new Menu();\r\n    menu.append(new MenuItem({ label: 'Cut', role: 'cut', enabled: params.editFlags.canCut }));\r\n    menu.append(new MenuItem({ label: 'Copy', role: 'copy', enabled: params.editFlags.canCopy }));\r\n    menu.append(new MenuItem({ label: 'Paste', role: 'paste', enabled: params.editFlags.canPaste }));\r\n    menu.append(new MenuItem({ type: 'separator' }));\r\n    menu.append(new MenuItem({ label: 'Select All', role: 'selectAll', enabled: params.editFlags.canSelectAll }));\r\n    menu.popup({ window: mainWindow! });\r\n  });\r\n\r\n  mainWindow.on('closed', () => { mainWindow = null; });\r\n}\r\n\r\napp.on('ready', async () => {\r\n  await initializeDatabase();\r\n  setupIpcHandlers();\r\n  createWindow();\r\n});\r\n\r\napp.on('window-all-closed', () => { if (process.platform !== 'darwin') app.quit(); });","import path from 'path';\r\nimport { app } from 'electron';\r\nimport fs from 'fs';\r\n\r\nlet dbData: any = (global as any).dbData || null;\r\n\r\nconst getDbPath = () => {\r\n  const dataDir = path.join(app.getPath('userData'), 'data');\r\n  if (!fs.existsSync(dataDir)) fs.mkdirSync(dataDir, { recursive: true });\r\n  return path.join(dataDir, 'db.json');\r\n};\r\n\r\nexport function getDatabase(): any {\r\n  if (!dbData) {\r\n    const dbPath = getDbPath();\r\n    if (fs.existsSync(dbPath)) {\r\n      try { dbData = JSON.parse(fs.readFileSync(dbPath, 'utf8')); } \r\n      catch (e) { dbData = getDefaultData(); }\r\n    } else { dbData = getDefaultData(); }\r\n    (global as any).dbData = dbData;\r\n  }\r\n  const tables = ['user_profile', 'email_config', 'job_preferences', 'ai_models', 'job_websites', 'company_monitoring', 'job_listings', 'applications', 'action_logs', 'email_alerts', 'documents', 'search_profiles', 'settings', 'questions'];\r\n  tables.forEach(t => { if (!dbData[t]) dbData[t] = []; });\r\n  return dbData;\r\n}\r\n\r\nconst getDefaultData = () => ({\r\n  user_profile: [], email_config: [], job_preferences: [], ai_models: [],\r\n  job_websites: [], company_monitoring: [], job_listings: [],\r\n  applications: [], action_logs: [], email_alerts: [],\r\n  documents: [], search_profiles: [], settings: [], questions: []\r\n});\r\n\r\nconst saveDb = () => fs.writeFileSync(getDbPath(), JSON.stringify(dbData, null, 2));\r\n\r\nexport async function initializeDatabase(): Promise<void> { getDatabase(); }\r\n\r\nconst toSnakeCase = (str: string) => str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\r\nconst mapToSnakeCase = (obj: any) => {\r\n  const newObj: any = {};\r\n  for (const key in obj) { newObj[toSnakeCase(key)] = obj[key]; }\r\n  return newObj;\r\n};\r\n\r\nexport async function runQuery(sql: string, params: any = []): Promise<any> {\r\n  const db = getDatabase();\r\n  const id = Date.now();\r\n  const sqlParts = sql.trim().split(/\\s+/);\r\n  let table = '';\r\n  if (sql.toUpperCase().includes('INSERT INTO')) table = sqlParts[2];\r\n  else if (sql.toUpperCase().includes('UPDATE')) table = sqlParts[1];\r\n  else if (sql.toUpperCase().includes('DELETE FROM')) table = sqlParts[2];\r\n  table = table.replace(/[`\"']/g, '');\r\n  if (!db[table]) return { success: false, error: 'Table not found' };\r\n  const newData = Array.isArray(params) ? params[0] : params;\r\n  if (sql.toUpperCase().includes('INSERT')) {\r\n    const mapped = mapToSnakeCase(newData);\r\n    db[table].push({ ...mapped, id, is_active: mapped.is_active ?? 1, timestamp: new Date().toISOString() });\r\n  } else if (sql.toUpperCase().includes('UPDATE')) {\r\n    const index = db[table].findIndex((item: any) => item.id === newData.id || ['user_profile', 'settings'].includes(table));\r\n    if (index !== -1) db[table][index] = { ...db[table][index], ...mapToSnakeCase(newData) };\r\n    else if (['user_profile', 'settings'].includes(table)) db[table].push({ ...mapToSnakeCase(newData), id });\r\n  } else if (sql.toUpperCase().includes('DELETE')) {\r\n    // FIXED: Correctly extract ID for deletion\r\n    const deleteId = typeof newData === 'object' ? newData.id : newData;\r\n    db[table] = db[table].filter((item: any) => item.id !== deleteId);\r\n  }\r\n  saveDb();\r\n  return { id };\r\n}\r\n\r\nexport async function getAllQuery(sql: string): Promise<any[]> {\r\n  const db = getDatabase();\r\n  const table = sql.trim().split(/\\s+/)[3].replace(/[`\"']/g, '');\r\n  return db[table] || [];\r\n}\r\n\r\nexport async function logAction(userId: number, type: string, desc: string, status: string, success?: boolean) {\r\n  await runQuery('INSERT INTO action_logs', { \r\n    user_id: userId, \r\n    action_type: type, \r\n    action_description: desc, \r\n    status: status, \r\n    success: success \r\n  });\r\n}","import { runQuery, getAllQuery } from './database';\r\nimport { ipcMain } from 'electron';\r\nimport * as aiService from './ai-service';\r\n\r\nexport function setupIpcHandlers(): void {\r\n  // Clear existing handlers to prevent \"second handler\" error\r\n  const channels = [\r\n    'settings:get', 'settings:update', 'user:get-profile', \r\n    'profiles:get-all', 'profiles:save', 'profiles:update',\r\n    'jobs:get-all', 'jobs:delete', 'jobs:add-manual', 'jobs:update-doc-confirmation',\r\n    'hunter:start-search', 'ai:process-application', 'docs:get-all', 'docs:save',\r\n    'websites:get-all', 'websites:add', 'websites:delete',\r\n    'ai-models:get-all', 'ai-models:add', 'ai-models:update', 'ai-models:delete',\r\n    'logs:get-recent-actions', 'apps:get-all'\r\n  ];\r\n  channels.forEach(channel => ipcMain.removeHandler(channel));\r\n\r\n  // --- REGISTER ALL HANDLERS ---\r\n  ipcMain.handle('settings:get', async () => ({ success: true, data: (await getAllQuery('SELECT * FROM settings'))[0] || null }));\r\n  ipcMain.handle('settings:update', async (_, data) => await runQuery('UPDATE settings', data));\r\n  ipcMain.handle('user:get-profile', async () => ({ success: true, data: (await getAllQuery('SELECT * FROM user_profile'))[0] || null }));\r\n  \r\n  ipcMain.handle('profiles:get-all', async () => ({ success: true, data: await getAllQuery('SELECT * FROM search_profiles') }));\r\n  ipcMain.handle('profiles:save', async (_, data) => await runQuery('INSERT INTO search_profiles', [data]));\r\n  ipcMain.handle('profiles:update', async (_, data) => await runQuery('UPDATE search_profiles', data));\r\n\r\n  ipcMain.handle('jobs:get-all', async () => ({ success: true, data: await getAllQuery('SELECT * FROM job_listings') }));\r\n  ipcMain.handle('jobs:delete', async (_, id) => await runQuery('DELETE FROM job_listings', { id: typeof id === 'object' ? id.id : id }));\r\n  ipcMain.handle('jobs:add-manual', async (_, data) => {\r\n    const result = await runQuery('INSERT INTO job_listings', { ...data, source: 'Manual', status: 'analyzing' });\r\n    aiService.analyzeJobUrl(result.id, data.userId, data.url).catch(console.error);\r\n    return { success: true, id: result.id };\r\n  });\r\n\r\n  ipcMain.handle('hunter:start-search', async (_, userId) => await aiService.startHunterSearch(userId));\r\n  ipcMain.handle('ai:process-application', async (_, jobId, userId) => await aiService.processApplication(jobId, userId));\r\n\r\n  ipcMain.handle('docs:get-all', async () => ({ success: true, data: await getAllQuery('SELECT * FROM documents') }));\r\n  ipcMain.handle('docs:save', async (_, data) => await runQuery('INSERT INTO documents', [data]));\r\n\r\n  ipcMain.handle('websites:get-all', async () => ({ success: true, data: await getAllQuery('SELECT * FROM job_websites') }));\r\n  ipcMain.handle('websites:add', async (_, data) => await runQuery('INSERT INTO job_websites', [data]));\r\n  ipcMain.handle('websites:delete', async (_, id) => await runQuery('DELETE FROM job_websites', { id }));\r\n\r\n  ipcMain.handle('ai-models:get-all', async () => ({ success: true, data: await getAllQuery('SELECT * FROM ai_models') }));\r\n  ipcMain.handle('ai-models:add', async (_, data) => await runQuery('INSERT INTO ai_models', [data]));\r\n  ipcMain.handle('ai-models:update', async (_, data) => await runQuery('UPDATE ai_models', [data]));\r\n  ipcMain.handle('ai-models:delete', async (_, id) => await runQuery('DELETE FROM ai_models', { id }));\r\n\r\n  ipcMain.handle('logs:get-recent-actions', async () => ({ success: true, data: await getAllQuery('SELECT * FROM action_logs') }));\r\n  ipcMain.handle('apps:get-all', async () => ({ success: true, data: await getAllQuery('SELECT * FROM applications') }));\r\n\r\n  aiService.startHuntingScheduler(1);\r\n}","import { getDatabase, runQuery, getAllQuery, logAction } from './database';\r\nimport axios from 'axios';\r\n\r\n// Import Feature Modules\r\nimport * as HunterEngine from './features/Hunter-engine';\r\nimport * as DocGenerator from './features/doc-generator';\r\nimport * as GhostJobNetwork from './features/ghost-job-network';\r\nimport * as SecretaryService from './features/secretary-service';\r\nimport { verifyWebsiteLogin as verifyLogin } from './features/login-verifier';\r\nimport { startHuntingScheduler as initScheduler } from './features/scheduler';\r\n\r\nlet huntingInterval: NodeJS.Timeout | null = null;\r\n\r\nexport async function callAI(model: any, prompt: string, fileData?: string) {\r\n  try {\r\n    if (!model) return \"Error: Model missing\";\r\n    let apiKey = model.api_key ? model.api_key.trim() : '';\r\n    let modelName = model.model_name;\r\n    if (!apiKey && model.role) {\r\n      const models = await getAllQuery('SELECT * FROM ai_models');\r\n      const dbModel = models.find((m: any) => m.role === model.role && m.status === 'active');\r\n      if (dbModel) {\r\n        apiKey = dbModel.api_key.trim();\r\n        if (!modelName || modelName === 'gpt-4o') modelName = dbModel.model_name;\r\n      }\r\n    }\r\n    let endpoint = (model.model_type === 'local' || model.api_endpoint?.includes('localhost'))\r\n      ? (model.api_endpoint || 'http://localhost:11434/v1/chat/completions')\r\n      : 'https://api.openai.com/v1/chat/completions';\r\n    if (apiKey.startsWith('tgp_v1_')) endpoint = 'https://api.together.xyz/v1/chat/completions';\r\n    const response = await axios.post(endpoint, {\r\n      model: modelName,\r\n      messages: [{ role: 'system', content: 'Professional Assistant' }, { role: 'user', content: prompt }],\r\n      max_tokens: 1000\r\n    }, {\r\n      headers: { 'Authorization': `Bearer ${apiKey}`, 'Content-Type': 'application/json' },\r\n      timeout: 60000\r\n    });\r\n    return response.data.choices[0].message.content;\r\n  } catch (err: any) {\r\n    return \"Error: \" + (err.response?.data?.error?.message || err.message);\r\n  }\r\n}\r\n\r\nexport async function startHunterSearch(userId: number) {\r\n  return await HunterEngine.startHunterSearch(userId, callAI);\r\n}\r\n\r\nexport async function analyzeJobUrl(jobId: number, userId: number, url: string) {\r\n  const models = await getAllQuery('SELECT * FROM ai_models');\r\n  const hunter = models.find((m: any) => m.role === 'Hunter' && m.status === 'active');\r\n  const auditor = models.find((m: any) => m.role === 'Auditor' && m.status === 'active');\r\n  return await HunterEngine.analyzeJobUrl(jobId, userId, url, hunter, auditor, callAI);\r\n}\r\n\r\nexport async function processApplication(jobId: number, userId: number, userConsentGiven: boolean = false) {\r\n  try {\r\n    const db = getDatabase();\r\n    const job = db.job_listings.find((j: any) => j.id === jobId);\r\n    if (!job) return { success: false, error: 'Job not found' };\r\n    const models = await getAllQuery('SELECT * FROM ai_models');\r\n    const thinker = models.find((m: any) => m.role === 'Thinker' && m.status === 'active');\r\n    const auditor = models.find((m: any) => m.role === 'Auditor' && m.status === 'active');\r\n    if (thinker && auditor) {\r\n      await DocGenerator.generateTailoredDocs(job, thinker, auditor, { cv: true, coverLetter: true }, callAI);\r\n    }\r\n    return { success: true };\r\n  } catch (error: any) {\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\nexport function startHuntingScheduler(userId: number) {\r\n  if (huntingInterval) clearInterval(huntingInterval);\r\n  huntingInterval = initScheduler(userId, startHunterSearch, callAI);\r\n}","import puppeteer, { Browser, Page } from 'puppeteer';\r\nimport { handleLoginRoadblock } from './features/automated-login';\r\nimport { logAction } from './database';\r\n\r\nlet activeBrowser: Browser | null = null;\r\n\r\n/**\r\n * VISUAL AI COOKIE BYPASS\r\n * Uses the Observer to take a photo and AI Mouse to click.\r\n */\r\nasync function handleCookieRoadblock(page: Page, userId: number, callAI: Function) {\r\n  try {\r\n    const isBannerVisible = await page.evaluate(() => {\r\n      const text = document.body.innerText.toLowerCase();\r\n      return text.includes('cookie') || text.includes('accept') || text.includes('agree') || text.includes('zustimmen');\r\n    });\r\n    if (!isBannerVisible) return;\r\n\r\n    await logAction(userId, 'ai_observer', 'ðŸ“¸ Cookie banner detected. Taking a photo...', 'in_progress');\r\n    const screenshot = await page.screenshot({ encoding: 'base64' });\r\n    \r\n    const prompt = `Analyze this cookie banner. Identify the (x, y) coordinates for the \"Reject\", \"Deny\", or \"Essential Only\" button. Return ONLY JSON: {\"x\": 0, \"y\": 0, \"action\": \"reject\"}`;\r\n    const analysis = await callAI({ model_name: 'gpt-4o', role: 'Observer' }, prompt, `data:image/png;base64,${screenshot}`);\r\n    \r\n    try {\r\n      const coords = JSON.parse(analysis.replace(/```json|```/g, '').trim());\r\n      await logAction(userId, 'ai_mouse', `é¼ æ ‡ AI Mouse clicking ${coords.action} at (${coords.x}, ${coords.y})`, 'in_progress');\r\n      await page.mouse.click(coords.x, coords.y);\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n    } catch (e) {\r\n      await page.evaluate(() => {\r\n        const btns = Array.from(document.querySelectorAll('button, a'));\r\n        const reject = btns.find(b => b.textContent?.toLowerCase().includes('reject') || b.textContent?.toLowerCase().includes('ablehnen'));\r\n        if (reject) (reject as HTMLElement).click();\r\n      });\r\n    }\r\n  } catch (e) {}\r\n}\r\n\r\n/**\r\n * SCRAPING CLUSTER\r\n * Tries 4 different extraction styles and reports the winner.\r\n */\r\nexport async function getJobPageContent(url: string, userId: number, callAI: Function): Promise<{ content: string, strategyUsed: string }> {\r\n  let browser: Browser | null = null;\r\n  try {\r\n    browser = await puppeteer.launch({ headless: false, args: ['--no-sandbox', '--disable-setuid-sandbox', '--disable-blink-features=AutomationControlled'] });\r\n    const page = await browser.newPage();\r\n    await page.setUserAgent('Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36');\r\n    await page.goto(url, { waitUntil: 'networkidle2', timeout: 60000 });\r\n    \r\n    await handleCookieRoadblock(page, userId, callAI);\r\n    await new Promise(resolve => setTimeout(resolve, 4000));\r\n\r\n    const result = await page.evaluate(() => {\r\n      const getCleanText = (el: Element | null) => el ? (el as HTMLElement).innerText.replace(/\\s+/g, ' ').trim() : '';\r\n      \r\n      // Style A: Specific Selectors\r\n      const s1 = document.querySelector('.job-description, #jobDescriptionText, .description__text, .show-more-less-html__markup');\r\n      if (s1 && s1.textContent && s1.textContent.length > 300) return { content: getCleanText(s1), strategy: 'Style A: Selectors' };\r\n      \r\n      // Style B: Semantic Tags\r\n      const s2 = document.querySelector('main, article');\r\n      if (s2 && s2.textContent && s2.textContent.length > 300) return { content: getCleanText(s2), strategy: 'Style B: Semantic' };\r\n      \r\n      // Style C: Density Analysis (Largest Block)\r\n      const blocks = Array.from(document.querySelectorAll('div')).map(el => getCleanText(el));\r\n      const t3 = blocks.sort((a, b) => b.length - a.length)[0];\r\n      if (t3 && t3.length > 300) return { content: t3, strategy: 'Style C: Density' };\r\n\r\n      return { content: getCleanText(document.body), strategy: 'Style D: Body Dump' };\r\n    });\r\n\r\n    return { content: result.content, strategyUsed: result.strategy };\r\n  } catch (error) {\r\n    return { content: '', strategyUsed: 'Failed' };\r\n  } finally {\r\n    if (browser) await browser.close();\r\n  }\r\n}\r\n\r\nexport async function scrapeJobs(baseUrl: string, query: string, location: string, credentials?: any, userId?: number, callAI?: Function): Promise<string[]> {\r\n  let browser: Browser | null = null;\r\n  const jobUrls: string[] = [];\r\n  try {\r\n    browser = await puppeteer.launch({ headless: false, args: ['--no-sandbox', '--disable-setuid-sandbox', '--disable-blink-features=AutomationControlled', '--start-maximized'] });\r\n    const page = await browser.newPage();\r\n    await page.setViewport({ width: 1280, height: 800 });\r\n    await page.setUserAgent('Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36');\r\n    const startUrl = baseUrl.includes('linkedin.com') ? 'https://www.linkedin.com/jobs/' : 'https://de.indeed.com/';\r\n    await page.goto(startUrl, { waitUntil: 'networkidle2', timeout: 60000 });\r\n    if (callAI && userId) await handleCookieRoadblock(page, userId, callAI);\r\n    await page.evaluate(() => window.scrollBy(0, 800));\r\n    await new Promise(resolve => setTimeout(resolve, 5000)); \r\n    const links = await page.evaluate(() => {\r\n      const selectors = ['a.job-card-container__link', 'a.base-card__full-link', 'a.jcs-JobTitle', 'h2.jobTitle a'];\r\n      const foundLinks: string[] = [];\r\n      selectors.forEach(s => document.querySelectorAll(s).forEach(el => {\r\n        const href = (el as HTMLAnchorElement).href;\r\n        if (href && href.startsWith('http') && !foundLinks.includes(href)) foundLinks.push(href);\r\n      }));\r\n      return foundLinks.slice(0, 15);\r\n    });\r\n    jobUrls.push(...links);\r\n  } catch (error) { console.error('Scraper Error:', error); } finally { if (browser) await browser.close(); }\r\n  return jobUrls;\r\n}\r\n\r\nexport async function openLinkedIn(userId: number, url: string) {\r\n  activeBrowser = await puppeteer.launch({ headless: false, defaultViewport: null, args: ['--start-maximized'] });\r\n  const page = await activeBrowser.newPage();\r\n  await page.goto(url, { waitUntil: 'domcontentloaded' });\r\n  return { success: true };\r\n}","import { runQuery } from '../database';\r\nimport axios from 'axios';\r\n\r\nexport async function checkReputation(company: string, role: string) {\r\n  return { isFlagged: false, reportCount: 0 }; \r\n}\r\n\r\nexport async function reportGhostJob(jobData: any, reason: string) {\r\n  console.log(`GJN: Reporting ${jobData.companyName}...`);\r\n}","import { runQuery, getDatabase, getAllQuery, logAction } from '../database';\r\nimport { scrapeJobs, getJobPageContent } from '../scraper-service';\r\nimport { reportGhostJob } from './ghost-job-network';\r\n\r\nexport async function analyzeJobUrl(jobId: number, userId: number, url: string, hunter: any, auditor: any, callAI: Function) {\r\n  const pageData = await getJobPageContent(url, userId, callAI);\r\n  \r\n  if (!pageData.content || pageData.content.length < 200) {\r\n    await runQuery('DELETE FROM job_listings', { id: jobId });\r\n    return;\r\n  }\r\n\r\n  await logAction(userId, 'ai_hunter', `Scraping successful using ${pageData.strategyUsed}`, 'completed', true);\r\n\r\n  const relevancePrompt = `Is this page a specific job listing? Answer ONLY \"YES\" or \"NO\". \\n\\nContent: ${pageData.content.substring(0, 2000)}`;\r\n  const isRelevant = await callAI(hunter, relevancePrompt);\r\n  \r\n  if (isRelevant.toUpperCase().includes(\"NO\")) {\r\n    await logAction(userId, 'ai_hunter', `Irrelevant URL detected. Deleting: ${url}`, 'failed', false);\r\n    await runQuery('DELETE FROM job_listings', { id: jobId });\r\n    return;\r\n  }\r\n\r\n  await runQuery('UPDATE job_listings', { id: jobId, description: pageData.content, status: 'analyzed' });\r\n\r\n  const prompt = `Analyze this job listing. Extract in STRICT JSON: { \"jobTitle\": \"...\", \"companyName\": \"...\", \"location\": \"...\", \"jobType\": \"...\", \"experienceLevel\": \"...\", \"salaryRange\": \"...\", \"industry\": \"...\", \"requiredSkills\": \"...\", \"educationLevel\": \"...\", \"remoteOnsite\": \"...\", \"benefits\": \"...\", \"companySize\": \"...\", \"companyRating\": \"...\", \"deadline\": \"...\", \"certifications\": \"...\", \"languages\": \"...\", \"visaSponsorship\": \"...\", \"relocation\": \"...\", \"travelRequirement\": \"...\", \"shiftSchedule\": \"...\", \"role\": \"...\", \"postedDate\": \"...\", \"applicationUrl\": \"...\", \"isGhostJob\": \"boolean\" }. \\n\\nContent: ${pageData.content.substring(0, 10000)}`;\r\n  const result = await callAI(hunter, prompt);\r\n  \r\n  try {\r\n    const data = JSON.parse(result.replace(/```json|```/g, '').trim());\r\n    await runQuery('UPDATE job_listings', { id: jobId, ...data, status: 'analyzed', date_imported: new Date().toLocaleDateString() });\r\n    if (data.isGhostJob) await reportGhostJob(data, \"Flagged during analysis\");\r\n  } catch (e) {\r\n    await runQuery('UPDATE job_listings', { id: jobId, status: 'manual_review' });\r\n  }\r\n}\r\n\r\nexport async function startHunterSearch(userId: number, callAI: Function) {\r\n  try {\r\n    const db = getDatabase();\r\n    const profiles = db.search_profiles.filter((p: any) => p.is_active === 1);\r\n    const websites = db.job_websites.filter((w: any) => w.is_active === 1);\r\n    const models = await getAllQuery('SELECT * FROM ai_models');\r\n    const hunter = models.find((m: any) => m.role === 'Hunter' && m.status === 'active');\r\n    if (!hunter) return { success: false, error: 'Hunter missing' };\r\n\r\n    for (const profile of profiles) {\r\n      for (const website of websites) {\r\n        const queryPrompt = `Generate a job search query for ${website.website_name} based on: ${profile.job_title} in ${profile.location}.`;\r\n        let query = await callAI(hunter, queryPrompt);\r\n        query = query.replace(/Here is.*?:\\s*/gi, '').replace(/[`\"']/g, '').trim();\r\n        \r\n        const jobUrls = await scrapeJobs(website.website_url, query, profile.location, { email: website.email, password: website.password }, userId, callAI);\r\n        for (const url of jobUrls) {\r\n          const existing = db.job_listings.find((j: any) => j.url === url);\r\n          if (!existing) {\r\n            const jobId = Date.now() + Math.floor(Math.random() * 1000);\r\n            await runQuery('INSERT INTO job_listings', { id: jobId, url, source: website.website_name, status: 'analyzing' });\r\n            analyzeJobUrl(jobId, userId, url, hunter, models.find((m: any) => m.role === 'Auditor'), callAI).catch(console.error);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return { success: true };\r\n  } catch (error: any) {\r\n    return { success: false, error: error.message };\r\n  }\r\n}","import { runQuery } from '../database';\r\n\r\nexport async function generateTailoredDocs(job: any, thinker: any, auditor: any, options: any, callAI: Function) {\r\n  const docTypes = [\r\n    { key: 'cv', label: 'CV' },\r\n    { key: 'motivation_letter', label: 'Motivation Letter' },\r\n    { key: 'portfolio', label: 'Portfolio' },\r\n    { key: 'proposal', label: 'Proposal' },\r\n    { key: 'cover_letter', label: 'Cover Letter' }\r\n  ];\r\n\r\n  for (const type of docTypes) {\r\n    const optionKey = type.key === 'motivation_letter' ? 'motivationLetter' : type.key;\r\n    if (options[optionKey]) {\r\n      try {\r\n        await runQuery('UPDATE job_listings', { id: job.id, [`${type.key}_status`]: 'generating' });\r\n        const genPrompt = `Generate a tailored ${type.label} for: ${job.job_title} at ${job.company_name}. \\nJob Description: ${job.description}`;\r\n        const content = await callAI(thinker, genPrompt);\r\n        await runQuery('UPDATE job_listings', { id: job.id, [`${type.key}_status`]: 'thinker_done' });\r\n        const auditResult = await callAI(auditor, `Review this ${type.label}: ${content}. Answer APPROVED or REJECT.`);\r\n        if (auditResult.toUpperCase().includes('APPROVED')) {\r\n          await runQuery('UPDATE job_listings', { id: job.id, [`${type.key}_status`]: 'auditor_done' });\r\n        } else {\r\n          await runQuery('UPDATE job_listings', { id: job.id, [`${type.key}_status`]: 'failed' });\r\n        }\r\n      } catch (e) {\r\n        await runQuery('UPDATE job_listings', { id: job.id, [`${type.key}_status`]: 'failed' });\r\n      }\r\n    }\r\n  }\r\n}","import { getDatabase, runQuery } from '../database';\r\n\r\nexport function startHuntingScheduler(userId: number, startHunterSearch: Function, callAI: Function) {\r\n  return setInterval(async () => {\r\n    const db = getDatabase();\r\n    const websites = db.job_websites.filter((w: any) => w.is_active === 1);\r\n    const now = new Date();\r\n    for (const website of websites) {\r\n      const lastChecked = website.last_checked ? new Date(website.last_checked) : new Date(0);\r\n      const hoursSinceLastCheck = (now.getTime() - lastChecked.getTime()) / (1000 * 60 * 60);\r\n      const frequency = website.site_type === 'career_page' ? 24 : (website.check_frequency || 4);\r\n      if (hoursSinceLastCheck >= frequency) {\r\n        await startHunterSearch(userId, callAI);\r\n        await runQuery('UPDATE job_websites', { id: website.id, last_checked: now.toISOString() });\r\n      }\r\n    }\r\n  }, 60000);\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,mBAAmD;AACnD,IAAAC,eAAiB;AACjB,6BAAkB;;;ACFlB,kBAAiB;AACjB,sBAAoB;AACpB,gBAAe;AAEf,IAAI,SAAe,OAAe,UAAU;AAE5C,IAAM,YAAY,MAAM;AACtB,QAAM,UAAU,YAAAC,QAAK,KAAK,oBAAI,QAAQ,UAAU,GAAG,MAAM;AACzD,MAAI,CAAC,UAAAC,QAAG,WAAW,OAAO;AAAG,cAAAA,QAAG,UAAU,SAAS,EAAE,WAAW,KAAK,CAAC;AACtE,SAAO,YAAAD,QAAK,KAAK,SAAS,SAAS;AACrC;AAEO,SAAS,cAAmB;AACjC,MAAI,CAAC,QAAQ;AACX,UAAM,SAAS,UAAU;AACzB,QAAI,UAAAC,QAAG,WAAW,MAAM,GAAG;AACzB,UAAI;AAAE,iBAAS,KAAK,MAAM,UAAAA,QAAG,aAAa,QAAQ,MAAM,CAAC;AAAA,MAAG,SACrD,GAAG;AAAE,iBAAS,eAAe;AAAA,MAAG;AAAA,IACzC,OAAO;AAAE,eAAS,eAAe;AAAA,IAAG;AACpC,IAAC,OAAe,SAAS;AAAA,EAC3B;AACA,QAAM,SAAS,CAAC,gBAAgB,gBAAgB,mBAAmB,aAAa,gBAAgB,sBAAsB,gBAAgB,gBAAgB,eAAe,gBAAgB,aAAa,mBAAmB,YAAY,WAAW;AAC5O,SAAO,QAAQ,OAAK;AAAE,QAAI,CAAC,OAAO,CAAC;AAAG,aAAO,CAAC,IAAI,CAAC;AAAA,EAAG,CAAC;AACvD,SAAO;AACT;AAEA,IAAM,iBAAiB,OAAO;AAAA,EAC5B,cAAc,CAAC;AAAA,EAAG,cAAc,CAAC;AAAA,EAAG,iBAAiB,CAAC;AAAA,EAAG,WAAW,CAAC;AAAA,EACrE,cAAc,CAAC;AAAA,EAAG,oBAAoB,CAAC;AAAA,EAAG,cAAc,CAAC;AAAA,EACzD,cAAc,CAAC;AAAA,EAAG,aAAa,CAAC;AAAA,EAAG,cAAc,CAAC;AAAA,EAClD,WAAW,CAAC;AAAA,EAAG,iBAAiB,CAAC;AAAA,EAAG,UAAU,CAAC;AAAA,EAAG,WAAW,CAAC;AAChE;AAEA,IAAM,SAAS,MAAM,UAAAA,QAAG,cAAc,UAAU,GAAG,KAAK,UAAU,QAAQ,MAAM,CAAC,CAAC;AAElF,eAAsB,qBAAoC;AAAE,cAAY;AAAG;AAE3E,IAAM,cAAc,CAAC,QAAgB,IAAI,QAAQ,UAAU,YAAU,IAAI,OAAO,YAAY,CAAC,EAAE;AAC/F,IAAM,iBAAiB,CAAC,QAAa;AACnC,QAAM,SAAc,CAAC;AACrB,aAAW,OAAO,KAAK;AAAE,WAAO,YAAY,GAAG,CAAC,IAAI,IAAI,GAAG;AAAA,EAAG;AAC9D,SAAO;AACT;AAEA,eAAsB,SAAS,KAAa,SAAc,CAAC,GAAiB;AAC1E,QAAM,KAAK,YAAY;AACvB,QAAM,KAAK,KAAK,IAAI;AACpB,QAAM,WAAW,IAAI,KAAK,EAAE,MAAM,KAAK;AACvC,MAAI,QAAQ;AACZ,MAAI,IAAI,YAAY,EAAE,SAAS,aAAa;AAAG,YAAQ,SAAS,CAAC;AAAA,WACxD,IAAI,YAAY,EAAE,SAAS,QAAQ;AAAG,YAAQ,SAAS,CAAC;AAAA,WACxD,IAAI,YAAY,EAAE,SAAS,aAAa;AAAG,YAAQ,SAAS,CAAC;AACtE,UAAQ,MAAM,QAAQ,UAAU,EAAE;AAClC,MAAI,CAAC,GAAG,KAAK;AAAG,WAAO,EAAE,SAAS,OAAO,OAAO,kBAAkB;AAClE,QAAM,UAAU,MAAM,QAAQ,MAAM,IAAI,OAAO,CAAC,IAAI;AACpD,MAAI,IAAI,YAAY,EAAE,SAAS,QAAQ,GAAG;AACxC,UAAM,SAAS,eAAe,OAAO;AACrC,OAAG,KAAK,EAAE,KAAK,EAAE,GAAG,QAAQ,IAAI,WAAW,OAAO,aAAa,GAAG,YAAW,oBAAI,KAAK,GAAE,YAAY,EAAE,CAAC;AAAA,EACzG,WAAW,IAAI,YAAY,EAAE,SAAS,QAAQ,GAAG;AAC/C,UAAM,QAAQ,GAAG,KAAK,EAAE,UAAU,CAAC,SAAc,KAAK,OAAO,QAAQ,MAAM,CAAC,gBAAgB,UAAU,EAAE,SAAS,KAAK,CAAC;AACvH,QAAI,UAAU;AAAI,SAAG,KAAK,EAAE,KAAK,IAAI,EAAE,GAAG,GAAG,KAAK,EAAE,KAAK,GAAG,GAAG,eAAe,OAAO,EAAE;AAAA,aAC9E,CAAC,gBAAgB,UAAU,EAAE,SAAS,KAAK;AAAG,SAAG,KAAK,EAAE,KAAK,EAAE,GAAG,eAAe,OAAO,GAAG,GAAG,CAAC;AAAA,EAC1G,WAAW,IAAI,YAAY,EAAE,SAAS,QAAQ,GAAG;AAE/C,UAAM,WAAW,OAAO,YAAY,WAAW,QAAQ,KAAK;AAC5D,OAAG,KAAK,IAAI,GAAG,KAAK,EAAE,OAAO,CAAC,SAAc,KAAK,OAAO,QAAQ;AAAA,EAClE;AACA,SAAO;AACP,SAAO,EAAE,GAAG;AACd;AAEA,eAAsB,YAAY,KAA6B;AAC7D,QAAM,KAAK,YAAY;AACvB,QAAM,QAAQ,IAAI,KAAK,EAAE,MAAM,KAAK,EAAE,CAAC,EAAE,QAAQ,UAAU,EAAE;AAC7D,SAAO,GAAG,KAAK,KAAK,CAAC;AACvB;AAEA,eAAsB,UAAU,QAAgB,MAAc,MAAc,QAAgB,SAAmB;AAC7G,QAAM,SAAS,2BAA2B;AAAA,IACxC,SAAS;AAAA,IACT,aAAa;AAAA,IACb,oBAAoB;AAAA,IACpB;AAAA,IACA;AAAA,EACF,CAAC;AACH;;;ACpFA,IAAAC,mBAAwB;;;ACAxB,mBAAkB;;;ACDlB,uBAAyC;AAUzC,eAAe,sBAAsB,MAAY,QAAgBC,SAAkB;AACjF,MAAI;AACF,UAAM,kBAAkB,MAAM,KAAK,SAAS,MAAM;AAChD,YAAM,OAAO,SAAS,KAAK,UAAU,YAAY;AACjD,aAAO,KAAK,SAAS,QAAQ,KAAK,KAAK,SAAS,QAAQ,KAAK,KAAK,SAAS,OAAO,KAAK,KAAK,SAAS,WAAW;AAAA,IAClH,CAAC;AACD,QAAI,CAAC;AAAiB;AAEtB,UAAM,UAAU,QAAQ,eAAe,uDAAgD,aAAa;AACpG,UAAM,aAAa,MAAM,KAAK,WAAW,EAAE,UAAU,SAAS,CAAC;AAE/D,UAAM,SAAS;AACf,UAAM,WAAW,MAAMA,QAAO,EAAE,YAAY,UAAU,MAAM,WAAW,GAAG,QAAQ,yBAAyB,UAAU,EAAE;AAEvH,QAAI;AACF,YAAM,SAAS,KAAK,MAAM,SAAS,QAAQ,gBAAgB,EAAE,EAAE,KAAK,CAAC;AACrE,YAAM,UAAU,QAAQ,YAAY,kCAAwB,OAAO,MAAM,QAAQ,OAAO,CAAC,KAAK,OAAO,CAAC,KAAK,aAAa;AACxH,YAAM,KAAK,MAAM,MAAM,OAAO,GAAG,OAAO,CAAC;AACzC,YAAM,IAAI,QAAQ,aAAW,WAAW,SAAS,GAAI,CAAC;AAAA,IACxD,SAAS,GAAG;AACV,YAAM,KAAK,SAAS,MAAM;AACxB,cAAM,OAAO,MAAM,KAAK,SAAS,iBAAiB,WAAW,CAAC;AAC9D,cAAM,SAAS,KAAK,KAAK,OAAE;AAhCnC;AAgCsC,0BAAE,gBAAF,mBAAe,cAAc,SAAS,gBAAa,OAAE,gBAAF,mBAAe,cAAc,SAAS;AAAA,SAAW;AAClI,YAAI;AAAQ,UAAC,OAAuB,MAAM;AAAA,MAC5C,CAAC;AAAA,IACH;AAAA,EACF,SAAS,GAAG;AAAA,EAAC;AACf;AAMA,eAAsB,kBAAkB,KAAa,QAAgBA,SAAsE;AACzI,MAAI,UAA0B;AAC9B,MAAI;AACF,cAAU,MAAM,iBAAAC,QAAU,OAAO,EAAE,UAAU,OAAO,MAAM,CAAC,gBAAgB,4BAA4B,+CAA+C,EAAE,CAAC;AACzJ,UAAM,OAAO,MAAM,QAAQ,QAAQ;AACnC,UAAM,KAAK,aAAa,iHAAiH;AACzI,UAAM,KAAK,KAAK,KAAK,EAAE,WAAW,gBAAgB,SAAS,IAAM,CAAC;AAElE,UAAM,sBAAsB,MAAM,QAAQD,OAAM;AAChD,UAAM,IAAI,QAAQ,aAAW,WAAW,SAAS,GAAI,CAAC;AAEtD,UAAM,SAAS,MAAM,KAAK,SAAS,MAAM;AACvC,YAAM,eAAe,CAAC,OAAuB,KAAM,GAAmB,UAAU,QAAQ,QAAQ,GAAG,EAAE,KAAK,IAAI;AAG9G,YAAM,KAAK,SAAS,cAAc,yFAAyF;AAC3H,UAAI,MAAM,GAAG,eAAe,GAAG,YAAY,SAAS;AAAK,eAAO,EAAE,SAAS,aAAa,EAAE,GAAG,UAAU,qBAAqB;AAG5H,YAAM,KAAK,SAAS,cAAc,eAAe;AACjD,UAAI,MAAM,GAAG,eAAe,GAAG,YAAY,SAAS;AAAK,eAAO,EAAE,SAAS,aAAa,EAAE,GAAG,UAAU,oBAAoB;AAG3H,YAAM,SAAS,MAAM,KAAK,SAAS,iBAAiB,KAAK,CAAC,EAAE,IAAI,QAAM,aAAa,EAAE,CAAC;AACtF,YAAM,KAAK,OAAO,KAAK,CAAC,GAAG,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC;AACvD,UAAI,MAAM,GAAG,SAAS;AAAK,eAAO,EAAE,SAAS,IAAI,UAAU,mBAAmB;AAE9E,aAAO,EAAE,SAAS,aAAa,SAAS,IAAI,GAAG,UAAU,qBAAqB;AAAA,IAChF,CAAC;AAED,WAAO,EAAE,SAAS,OAAO,SAAS,cAAc,OAAO,SAAS;AAAA,EAClE,SAAS,OAAO;AACd,WAAO,EAAE,SAAS,IAAI,cAAc,SAAS;AAAA,EAC/C,UAAE;AACA,QAAI;AAAS,YAAM,QAAQ,MAAM;AAAA,EACnC;AACF;AAEA,eAAsB,WAAW,SAAiB,OAAe,UAAkB,aAAmB,QAAiBA,SAAsC;AAC3J,MAAI,UAA0B;AAC9B,QAAM,UAAoB,CAAC;AAC3B,MAAI;AACF,cAAU,MAAM,iBAAAC,QAAU,OAAO,EAAE,UAAU,OAAO,MAAM,CAAC,gBAAgB,4BAA4B,iDAAiD,mBAAmB,EAAE,CAAC;AAC9K,UAAM,OAAO,MAAM,QAAQ,QAAQ;AACnC,UAAM,KAAK,YAAY,EAAE,OAAO,MAAM,QAAQ,IAAI,CAAC;AACnD,UAAM,KAAK,aAAa,iHAAiH;AACzI,UAAM,WAAW,QAAQ,SAAS,cAAc,IAAI,mCAAmC;AACvF,UAAM,KAAK,KAAK,UAAU,EAAE,WAAW,gBAAgB,SAAS,IAAM,CAAC;AACvE,QAAID,WAAU;AAAQ,YAAM,sBAAsB,MAAM,QAAQA,OAAM;AACtE,UAAM,KAAK,SAAS,MAAM,OAAO,SAAS,GAAG,GAAG,CAAC;AACjD,UAAM,IAAI,QAAQ,aAAW,WAAW,SAAS,GAAI,CAAC;AACtD,UAAM,QAAQ,MAAM,KAAK,SAAS,MAAM;AACtC,YAAM,YAAY,CAAC,8BAA8B,0BAA0B,kBAAkB,eAAe;AAC5G,YAAM,aAAuB,CAAC;AAC9B,gBAAU,QAAQ,OAAK,SAAS,iBAAiB,CAAC,EAAE,QAAQ,QAAM;AAChE,cAAM,OAAQ,GAAyB;AACvC,YAAI,QAAQ,KAAK,WAAW,MAAM,KAAK,CAAC,WAAW,SAAS,IAAI;AAAG,qBAAW,KAAK,IAAI;AAAA,MACzF,CAAC,CAAC;AACF,aAAO,WAAW,MAAM,GAAG,EAAE;AAAA,IAC/B,CAAC;AACD,YAAQ,KAAK,GAAG,KAAK;AAAA,EACvB,SAAS,OAAO;AAAE,YAAQ,MAAM,kBAAkB,KAAK;AAAA,EAAG,UAAE;AAAU,QAAI;AAAS,YAAM,QAAQ,MAAM;AAAA,EAAG;AAC1G,SAAO;AACT;;;ACnGA,eAAsB,eAAe,SAAc,QAAgB;AACjE,UAAQ,IAAI,kBAAkB,QAAQ,WAAW,KAAK;AACxD;;;ACLA,eAAsB,cAAc,OAAe,QAAgB,KAAa,QAAa,SAAcE,SAAkB;AAC3H,QAAM,WAAW,MAAM,kBAAkB,KAAK,QAAQA,OAAM;AAE5D,MAAI,CAAC,SAAS,WAAW,SAAS,QAAQ,SAAS,KAAK;AACtD,UAAM,SAAS,4BAA4B,EAAE,IAAI,MAAM,CAAC;AACxD;AAAA,EACF;AAEA,QAAM,UAAU,QAAQ,aAAa,6BAA6B,SAAS,YAAY,IAAI,aAAa,IAAI;AAE5G,QAAM,kBAAkB;AAAA;AAAA,WAAgF,SAAS,QAAQ,UAAU,GAAG,GAAI,CAAC;AAC3I,QAAM,aAAa,MAAMA,QAAO,QAAQ,eAAe;AAEvD,MAAI,WAAW,YAAY,EAAE,SAAS,IAAI,GAAG;AAC3C,UAAM,UAAU,QAAQ,aAAa,sCAAsC,GAAG,IAAI,UAAU,KAAK;AACjG,UAAM,SAAS,4BAA4B,EAAE,IAAI,MAAM,CAAC;AACxD;AAAA,EACF;AAEA,QAAM,SAAS,uBAAuB,EAAE,IAAI,OAAO,aAAa,SAAS,SAAS,QAAQ,WAAW,CAAC;AAEtG,QAAM,SAAS;AAAA;AAAA,WAA0lB,SAAS,QAAQ,UAAU,GAAG,GAAK,CAAC;AAC7oB,QAAM,SAAS,MAAMA,QAAO,QAAQ,MAAM;AAE1C,MAAI;AACF,UAAM,OAAO,KAAK,MAAM,OAAO,QAAQ,gBAAgB,EAAE,EAAE,KAAK,CAAC;AACjE,UAAM,SAAS,uBAAuB,EAAE,IAAI,OAAO,GAAG,MAAM,QAAQ,YAAY,gBAAe,oBAAI,KAAK,GAAE,mBAAmB,EAAE,CAAC;AAChI,QAAI,KAAK;AAAY,YAAM,eAAe,MAAM,yBAAyB;AAAA,EAC3E,SAAS,GAAG;AACV,UAAM,SAAS,uBAAuB,EAAE,IAAI,OAAO,QAAQ,gBAAgB,CAAC;AAAA,EAC9E;AACF;AAEA,eAAsB,kBAAkB,QAAgBA,SAAkB;AACxE,MAAI;AACF,UAAM,KAAK,YAAY;AACvB,UAAM,WAAW,GAAG,gBAAgB,OAAO,CAAC,MAAW,EAAE,cAAc,CAAC;AACxE,UAAM,WAAW,GAAG,aAAa,OAAO,CAAC,MAAW,EAAE,cAAc,CAAC;AACrE,UAAM,SAAS,MAAM,YAAY,yBAAyB;AAC1D,UAAM,SAAS,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,YAAY,EAAE,WAAW,QAAQ;AACnF,QAAI,CAAC;AAAQ,aAAO,EAAE,SAAS,OAAO,OAAO,iBAAiB;AAE9D,eAAW,WAAW,UAAU;AAC9B,iBAAW,WAAW,UAAU;AAC9B,cAAM,cAAc,mCAAmC,QAAQ,YAAY,cAAc,QAAQ,SAAS,OAAO,QAAQ,QAAQ;AACjI,YAAI,QAAQ,MAAMA,QAAO,QAAQ,WAAW;AAC5C,gBAAQ,MAAM,QAAQ,oBAAoB,EAAE,EAAE,QAAQ,UAAU,EAAE,EAAE,KAAK;AAEzE,cAAM,UAAU,MAAM,WAAW,QAAQ,aAAa,OAAO,QAAQ,UAAU,EAAE,OAAO,QAAQ,OAAO,UAAU,QAAQ,SAAS,GAAG,QAAQA,OAAM;AACnJ,mBAAW,OAAO,SAAS;AACzB,gBAAM,WAAW,GAAG,aAAa,KAAK,CAAC,MAAW,EAAE,QAAQ,GAAG;AAC/D,cAAI,CAAC,UAAU;AACb,kBAAM,QAAQ,KAAK,IAAI,IAAI,KAAK,MAAM,KAAK,OAAO,IAAI,GAAI;AAC1D,kBAAM,SAAS,4BAA4B,EAAE,IAAI,OAAO,KAAK,QAAQ,QAAQ,cAAc,QAAQ,YAAY,CAAC;AAChH,0BAAc,OAAO,QAAQ,KAAK,QAAQ,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,SAAS,GAAGA,OAAM,EAAE,MAAM,QAAQ,KAAK;AAAA,UACtH;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,WAAO,EAAE,SAAS,KAAK;AAAA,EACzB,SAAS,OAAY;AACnB,WAAO,EAAE,SAAS,OAAO,OAAO,MAAM,QAAQ;AAAA,EAChD;AACF;;;ACjEA,eAAsB,qBAAqB,KAAU,SAAc,SAAc,SAAcC,SAAkB;AAC/G,QAAM,WAAW;AAAA,IACf,EAAE,KAAK,MAAM,OAAO,KAAK;AAAA,IACzB,EAAE,KAAK,qBAAqB,OAAO,oBAAoB;AAAA,IACvD,EAAE,KAAK,aAAa,OAAO,YAAY;AAAA,IACvC,EAAE,KAAK,YAAY,OAAO,WAAW;AAAA,IACrC,EAAE,KAAK,gBAAgB,OAAO,eAAe;AAAA,EAC/C;AAEA,aAAW,QAAQ,UAAU;AAC3B,UAAM,YAAY,KAAK,QAAQ,sBAAsB,qBAAqB,KAAK;AAC/E,QAAI,QAAQ,SAAS,GAAG;AACtB,UAAI;AACF,cAAM,SAAS,uBAAuB,EAAE,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,aAAa,CAAC;AAC1F,cAAM,YAAY,uBAAuB,KAAK,KAAK,SAAS,IAAI,SAAS,OAAO,IAAI,YAAY;AAAA,mBAAwB,IAAI,WAAW;AACvI,cAAM,UAAU,MAAMA,QAAO,SAAS,SAAS;AAC/C,cAAM,SAAS,uBAAuB,EAAE,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,eAAe,CAAC;AAC5F,cAAM,cAAc,MAAMA,QAAO,SAAS,eAAe,KAAK,KAAK,KAAK,OAAO,8BAA8B;AAC7G,YAAI,YAAY,YAAY,EAAE,SAAS,UAAU,GAAG;AAClD,gBAAM,SAAS,uBAAuB,EAAE,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,eAAe,CAAC;AAAA,QAC9F,OAAO;AACL,gBAAM,SAAS,uBAAuB,EAAE,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,SAAS,CAAC;AAAA,QACxF;AAAA,MACF,SAAS,GAAG;AACV,cAAM,SAAS,uBAAuB,EAAE,IAAI,IAAI,IAAI,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,SAAS,CAAC;AAAA,MACxF;AAAA,IACF;AAAA,EACF;AACF;;;AC5BO,SAAS,sBAAsB,QAAgBC,oBAA6BC,SAAkB;AACnG,SAAO,YAAY,YAAY;AAC7B,UAAM,KAAK,YAAY;AACvB,UAAM,WAAW,GAAG,aAAa,OAAO,CAAC,MAAW,EAAE,cAAc,CAAC;AACrE,UAAM,MAAM,oBAAI,KAAK;AACrB,eAAW,WAAW,UAAU;AAC9B,YAAM,cAAc,QAAQ,eAAe,IAAI,KAAK,QAAQ,YAAY,IAAI,oBAAI,KAAK,CAAC;AACtF,YAAM,uBAAuB,IAAI,QAAQ,IAAI,YAAY,QAAQ,MAAM,MAAO,KAAK;AACnF,YAAM,YAAY,QAAQ,cAAc,gBAAgB,KAAM,QAAQ,mBAAmB;AACzF,UAAI,uBAAuB,WAAW;AACpC,cAAMD,mBAAkB,QAAQC,OAAM;AACtC,cAAM,SAAS,uBAAuB,EAAE,IAAI,QAAQ,IAAI,cAAc,IAAI,YAAY,EAAE,CAAC;AAAA,MAC3F;AAAA,IACF;AAAA,EACF,GAAG,GAAK;AACV;;;ALNA,IAAI,kBAAyC;AAE7C,eAAsB,OAAO,OAAY,QAAgB,UAAmB;AAb5E;AAcE,MAAI;AACF,QAAI,CAAC;AAAO,aAAO;AACnB,QAAI,SAAS,MAAM,UAAU,MAAM,QAAQ,KAAK,IAAI;AACpD,QAAI,YAAY,MAAM;AACtB,QAAI,CAAC,UAAU,MAAM,MAAM;AACzB,YAAM,SAAS,MAAM,YAAY,yBAAyB;AAC1D,YAAM,UAAU,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,MAAM,QAAQ,EAAE,WAAW,QAAQ;AACtF,UAAI,SAAS;AACX,iBAAS,QAAQ,QAAQ,KAAK;AAC9B,YAAI,CAAC,aAAa,cAAc;AAAU,sBAAY,QAAQ;AAAA,MAChE;AAAA,IACF;AACA,QAAI,WAAY,MAAM,eAAe,aAAW,WAAM,iBAAN,mBAAoB,SAAS,gBACxE,MAAM,gBAAgB,+CACvB;AACJ,QAAI,OAAO,WAAW,SAAS;AAAG,iBAAW;AAC7C,UAAM,WAAW,MAAM,aAAAC,QAAM,KAAK,UAAU;AAAA,MAC1C,OAAO;AAAA,MACP,UAAU,CAAC,EAAE,MAAM,UAAU,SAAS,yBAAyB,GAAG,EAAE,MAAM,QAAQ,SAAS,OAAO,CAAC;AAAA,MACnG,YAAY;AAAA,IACd,GAAG;AAAA,MACD,SAAS,EAAE,iBAAiB,UAAU,MAAM,IAAI,gBAAgB,mBAAmB;AAAA,MACnF,SAAS;AAAA,IACX,CAAC;AACD,WAAO,SAAS,KAAK,QAAQ,CAAC,EAAE,QAAQ;AAAA,EAC1C,SAAS,KAAU;AACjB,WAAO,eAAa,qBAAI,aAAJ,mBAAc,SAAd,mBAAoB,UAApB,mBAA2B,YAAW,IAAI;AAAA,EAChE;AACF;AAEA,eAAsBC,mBAAkB,QAAgB;AACtD,SAAO,MAAmB,kBAAkB,QAAQ,MAAM;AAC5D;AAEA,eAAsBC,eAAc,OAAe,QAAgB,KAAa;AAC9E,QAAM,SAAS,MAAM,YAAY,yBAAyB;AAC1D,QAAM,SAAS,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,YAAY,EAAE,WAAW,QAAQ;AACnF,QAAM,UAAU,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,aAAa,EAAE,WAAW,QAAQ;AACrF,SAAO,MAAmB,cAAc,OAAO,QAAQ,KAAK,QAAQ,SAAS,MAAM;AACrF;AAEA,eAAsB,mBAAmB,OAAe,QAAgB,mBAA4B,OAAO;AACzG,MAAI;AACF,UAAM,KAAK,YAAY;AACvB,UAAM,MAAM,GAAG,aAAa,KAAK,CAAC,MAAW,EAAE,OAAO,KAAK;AAC3D,QAAI,CAAC;AAAK,aAAO,EAAE,SAAS,OAAO,OAAO,gBAAgB;AAC1D,UAAM,SAAS,MAAM,YAAY,yBAAyB;AAC1D,UAAM,UAAU,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,aAAa,EAAE,WAAW,QAAQ;AACrF,UAAM,UAAU,OAAO,KAAK,CAAC,MAAW,EAAE,SAAS,aAAa,EAAE,WAAW,QAAQ;AACrF,QAAI,WAAW,SAAS;AACtB,YAAmB,qBAAqB,KAAK,SAAS,SAAS,EAAE,IAAI,MAAM,aAAa,KAAK,GAAG,MAAM;AAAA,IACxG;AACA,WAAO,EAAE,SAAS,KAAK;AAAA,EACzB,SAAS,OAAY;AACnB,WAAO,EAAE,SAAS,OAAO,OAAO,MAAM,QAAQ;AAAA,EAChD;AACF;AAEO,SAASC,uBAAsB,QAAgB;AACpD,MAAI;AAAiB,kBAAc,eAAe;AAClD,oBAAkB,sBAAc,QAAQF,oBAAmB,MAAM;AACnE;;;ADvEO,SAAS,mBAAyB;AAEvC,QAAM,WAAW;AAAA,IACf;AAAA,IAAgB;AAAA,IAAmB;AAAA,IACnC;AAAA,IAAoB;AAAA,IAAiB;AAAA,IACrC;AAAA,IAAgB;AAAA,IAAe;AAAA,IAAmB;AAAA,IAClD;AAAA,IAAuB;AAAA,IAA0B;AAAA,IAAgB;AAAA,IACjE;AAAA,IAAoB;AAAA,IAAgB;AAAA,IACpC;AAAA,IAAqB;AAAA,IAAiB;AAAA,IAAoB;AAAA,IAC1D;AAAA,IAA2B;AAAA,EAC7B;AACA,WAAS,QAAQ,aAAW,yBAAQ,cAAc,OAAO,CAAC;AAG1D,2BAAQ,OAAO,gBAAgB,aAAa,EAAE,SAAS,MAAM,OAAO,MAAM,YAAY,wBAAwB,GAAG,CAAC,KAAK,KAAK,EAAE;AAC9H,2BAAQ,OAAO,mBAAmB,OAAO,GAAG,SAAS,MAAM,SAAS,mBAAmB,IAAI,CAAC;AAC5F,2BAAQ,OAAO,oBAAoB,aAAa,EAAE,SAAS,MAAM,OAAO,MAAM,YAAY,4BAA4B,GAAG,CAAC,KAAK,KAAK,EAAE;AAEtI,2BAAQ,OAAO,oBAAoB,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,+BAA+B,EAAE,EAAE;AAC5H,2BAAQ,OAAO,iBAAiB,OAAO,GAAG,SAAS,MAAM,SAAS,+BAA+B,CAAC,IAAI,CAAC,CAAC;AACxG,2BAAQ,OAAO,mBAAmB,OAAO,GAAG,SAAS,MAAM,SAAS,0BAA0B,IAAI,CAAC;AAEnG,2BAAQ,OAAO,gBAAgB,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,4BAA4B,EAAE,EAAE;AACrH,2BAAQ,OAAO,eAAe,OAAO,GAAG,OAAO,MAAM,SAAS,4BAA4B,EAAE,IAAI,OAAO,OAAO,WAAW,GAAG,KAAK,GAAG,CAAC,CAAC;AACtI,2BAAQ,OAAO,mBAAmB,OAAO,GAAG,SAAS;AACnD,UAAM,SAAS,MAAM,SAAS,4BAA4B,EAAE,GAAG,MAAM,QAAQ,UAAU,QAAQ,YAAY,CAAC;AAC5G,IAAUG,eAAc,OAAO,IAAI,KAAK,QAAQ,KAAK,GAAG,EAAE,MAAM,QAAQ,KAAK;AAC7E,WAAO,EAAE,SAAS,MAAM,IAAI,OAAO,GAAG;AAAA,EACxC,CAAC;AAED,2BAAQ,OAAO,uBAAuB,OAAO,GAAG,WAAW,MAAgBC,mBAAkB,MAAM,CAAC;AACpG,2BAAQ,OAAO,0BAA0B,OAAO,GAAG,OAAO,WAAW,MAAgB,mBAAmB,OAAO,MAAM,CAAC;AAEtH,2BAAQ,OAAO,gBAAgB,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,yBAAyB,EAAE,EAAE;AAClH,2BAAQ,OAAO,aAAa,OAAO,GAAG,SAAS,MAAM,SAAS,yBAAyB,CAAC,IAAI,CAAC,CAAC;AAE9F,2BAAQ,OAAO,oBAAoB,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,4BAA4B,EAAE,EAAE;AACzH,2BAAQ,OAAO,gBAAgB,OAAO,GAAG,SAAS,MAAM,SAAS,4BAA4B,CAAC,IAAI,CAAC,CAAC;AACpG,2BAAQ,OAAO,mBAAmB,OAAO,GAAG,OAAO,MAAM,SAAS,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAErG,2BAAQ,OAAO,qBAAqB,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,yBAAyB,EAAE,EAAE;AACvH,2BAAQ,OAAO,iBAAiB,OAAO,GAAG,SAAS,MAAM,SAAS,yBAAyB,CAAC,IAAI,CAAC,CAAC;AAClG,2BAAQ,OAAO,oBAAoB,OAAO,GAAG,SAAS,MAAM,SAAS,oBAAoB,CAAC,IAAI,CAAC,CAAC;AAChG,2BAAQ,OAAO,oBAAoB,OAAO,GAAG,OAAO,MAAM,SAAS,yBAAyB,EAAE,GAAG,CAAC,CAAC;AAEnG,2BAAQ,OAAO,2BAA2B,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,2BAA2B,EAAE,EAAE;AAC/H,2BAAQ,OAAO,gBAAgB,aAAa,EAAE,SAAS,MAAM,MAAM,MAAM,YAAY,4BAA4B,EAAE,EAAE;AAErH,EAAUC,uBAAsB,CAAC;AACnC;;;AF9CA,qBAAI,4BAA4B;AAEhC,IAAI,aAAmC;AAEvC,SAAS,eAAe;AACtB,eAAa,IAAI,+BAAc;AAAA,IAC7B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,WAAW;AAAA,IACX,gBAAgB;AAAA,MACd,SAAS,aAAAC,QAAK,KAAK,WAAW,aAAa;AAAA,MAC3C,kBAAkB;AAAA,MAClB,iBAAiB;AAAA,IACnB;AAAA,EACF,CAAC;AAED,QAAM,WAAW,uBAAAC,UAAQ,0BAA0B,UAAU,aAAAD,QAAK,KAAK,WAAW,oBAAoB,CAAC;AACvG,aAAW,QAAQ,QAAQ;AAE3B,MAAI,uBAAAC;AAAO,eAAW,YAAY,aAAa;AAE/C,aAAW,YAAY,GAAG,gBAAgB,CAAC,OAAO,WAAW;AAC3D,UAAM,OAAO,IAAI,sBAAK;AACtB,SAAK,OAAO,IAAI,0BAAS,EAAE,OAAO,OAAO,MAAM,OAAO,SAAS,OAAO,UAAU,OAAO,CAAC,CAAC;AACzF,SAAK,OAAO,IAAI,0BAAS,EAAE,OAAO,QAAQ,MAAM,QAAQ,SAAS,OAAO,UAAU,QAAQ,CAAC,CAAC;AAC5F,SAAK,OAAO,IAAI,0BAAS,EAAE,OAAO,SAAS,MAAM,SAAS,SAAS,OAAO,UAAU,SAAS,CAAC,CAAC;AAC/F,SAAK,OAAO,IAAI,0BAAS,EAAE,MAAM,YAAY,CAAC,CAAC;AAC/C,SAAK,OAAO,IAAI,0BAAS,EAAE,OAAO,cAAc,MAAM,aAAa,SAAS,OAAO,UAAU,aAAa,CAAC,CAAC;AAC5G,SAAK,MAAM,EAAE,QAAQ,WAAY,CAAC;AAAA,EACpC,CAAC;AAED,aAAW,GAAG,UAAU,MAAM;AAAE,iBAAa;AAAA,EAAM,CAAC;AACtD;AAEA,qBAAI,GAAG,SAAS,YAAY;AAC1B,QAAM,mBAAmB;AACzB,mBAAiB;AACjB,eAAa;AACf,CAAC;AAED,qBAAI,GAAG,qBAAqB,MAAM;AAAE,MAAI,QAAQ,aAAa;AAAU,yBAAI,KAAK;AAAG,CAAC;","names":["import_electron","import_path","path","fs","import_electron","callAI","puppeteer","callAI","callAI","startHunterSearch","callAI","axios","startHunterSearch","analyzeJobUrl","startHuntingScheduler","analyzeJobUrl","startHunterSearch","startHuntingScheduler","path","isDev"]}